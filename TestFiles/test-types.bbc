using System;
using System.Lists;

[CodeEntry]
void Main()
{
	var bytes = 666.ToByteArray();
	Print(GetInt(bytes));
	delete bytes;
}

void LogArray(Array<int> array)
{
	Print("[");

	for (int i; i < array.Length(); i++)
	{
	  var item = array[i];
	  if (i > 0) { Print(", "); };
	  Print(item.ToString());
	};

	Print("]");
}

int GetInt(Array<int> bytes)
{
	return (bytes[0]) + (bytes[1] << 8) + (bytes[2] << 16) + (bytes[3] << 24);
}

Array<int> ToByteArray(this int v)
{
	int b0 = v & 0b00000000_00000000_00000000_11111111 >> 0;
	int b1 = v & 0b00000000_00000000_11111111_00000000 >> 8;
	int b2 = v & 0b00000000_11111111_00000000_00000000 >> 16;
	int b3 = v & 0b11111111_00000000_00000000_00000000 >> 24;

	Array<int> result = new Array<int>(4);
	result[0] = b0;
	result[1] = b1;
	result[2] = b2;
	result[3] = b3;
	return result;
}
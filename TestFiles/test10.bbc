using System;

struct Yes
{
  int YesField;
  String YesField2;
}

class Foo
{
  int field0;
  int field1;
  Yes yes;
}

[CodeEntry]
void Start()
{
  Foo foo = new Foo; // Bar2();
  
  foo.yes.YesField = 46;
  
  Yes yes2 = foo.yes;
  
  // PrintLine("yes2.YesField: " + yes2.YesField);
  // PrintLine("yes2.YesField2: " + yes2.YesField2);

  // PrintLine("foo.yes.YesField: " + foo.yes.YesField);

  foo.field0 = 55;
  PrintLine("foo.field0: " + foo.field0);
  PrintLine("&foo.field0: " + &foo.field0);

  Foo foo2;
  foo2 = foo;
  PrintLine("foo.field0: " + foo.field0);

  int res = Bar(foo2, foo, 420);
  PrintLine(res);

  PrintLine("foo.field0: " + foo.field0);
  PrintLine("foo2.field0: " + foo2.field0);
}

int Bar(Foo p0, Foo p1, int p2)
{
  p0.field0 = 3;
  p1.field1 = 7;
  // int address0 = &p0.field1;
  // int address1 = &p1.field0;
  return 69;
}

Foo Bar2()
{
  Foo result = new Foo;
  return result;
}